---
description: "Rules for Rust projects and toolchain configuration"
globs: "**/*.rs"
---
# Rust Project Rules

## Requirements
- Use Rust version 1.85.1
- Follow Rust style guide
- Use Clippy linting
- Enable all warnings
- Treat warnings as errors

## Project Structure
- src/main.rs for binary
- src/lib.rs for library
- tests/ for integration tests
- benches/ for benchmarks
- examples/ for examples

## Toolchain Components
- rust-toolchain.toml required
- Cargo.toml required
- Cargo.lock committed
- .gitignore for Rust

## Code Quality
- Document public items
- Write unit tests
- Use type safety
- Handle errors properly
- Follow SOLID principles

## Dependencies
- Pin dependency versions
- Audit dependencies
- Minimize dependencies
- Use workspace if needed

## Testing
- Write unit tests
- Add integration tests
- Include doc tests
- Use test fixtures
- Mock external services

## Error Handling
- Use Result type
- Handle all errors
- Provide context
- Create custom errors
- Log appropriately

## Performance
- Avoid allocations
- Use iterators
- Profile code
- Benchmark critical paths
- Cache when needed

## Security
- Use safe Rust
- Audit unsafe code
- Validate input
- Handle secrets properly
- Update dependencies
